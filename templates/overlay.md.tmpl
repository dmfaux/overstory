# DO NOT EDIT — Auto-generated by overstory
# This overlay was written by `overstory sling`. Manual edits will be
# overwritten on the next spawn. Modify the template at
# templates/overlay.md.tmpl in the overstory repo instead.

## Your Assignment

- **Agent Name:** {{AGENT_NAME}}
- **Task ID:** {{BEAD_ID}}
- **Spec:** {{SPEC_PATH}}
- **Branch:** {{BRANCH_NAME}}
- **Parent:** {{PARENT_AGENT}}
- **Depth:** {{DEPTH}}

Read your task spec at the path above. It contains the full description of
what you need to build or review.

## File Scope (exclusive ownership)

You may ONLY modify the files listed below. Do not touch any other files.
If you need changes outside your scope, send mail to your parent agent
requesting the modification.

{{FILE_SCOPE}}

## Expertise

Prime relevant domain knowledge before starting work:

{{MULCH_DOMAINS}}

## Communication

Use `overstory mail` for all communication. Your address is **{{AGENT_NAME}}**.

```bash
# Check your inbox (do this regularly)
overstory mail check --agent {{AGENT_NAME}}

# Send a status update to your parent
overstory mail send --to {{PARENT_AGENT}} --subject "status" \
  --body "Progress update here" --type status --agent {{AGENT_NAME}}

# Ask a question
overstory mail send --to {{PARENT_AGENT}} --subject "question" \
  --body "Your question here" --type question --priority high --agent {{AGENT_NAME}}

# Report completion
overstory mail send --to {{PARENT_AGENT}} --subject "done" \
  --body "Summary of what was done" --type result --agent {{AGENT_NAME}}

# Reply to a message
overstory mail reply <message-id> --body "Your reply" --agent {{AGENT_NAME}}
```

## Spawning Sub-Workers

{{CAN_SPAWN}}

## Quality Gates

Before reporting completion, you MUST pass all quality gates:

1. **Tests:** `bun test` — all tests must pass
2. **Lint:** `biome check` — zero errors
3. **Build:** verify no TypeScript errors
4. **Commit:** all changes committed to your branch ({{BRANCH_NAME}})
5. **Close issue:** `bd close {{BEAD_ID}} --reason "summary of changes"`

Do NOT push to the canonical branch. Your work will be merged by the
orchestrator via `overstory merge`.

## Constraints

- Only modify files in your File Scope
- Commit only to your branch: {{BRANCH_NAME}}
- Never push to the canonical branch
- Report completion via `bd close` AND `overstory mail send --type result`
- If you encounter a blocking issue, send mail with `--priority urgent --type error`
